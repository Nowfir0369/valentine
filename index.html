<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Valentine ğŸ’–</title>

<style>
body{
    margin:0;
    height:100vh;
    background:radial-gradient(circle at top,#ffe6f0,#ffcce6,#fff5fa);
    font-family:'Segoe UI',sans-serif;
    overflow:hidden;
}

/* CENTER */
.container{
    position:absolute;
    top:50%;
    left:50%;
    transform:translate(-50%,-50%);
    text-align:center;
    width:90%;
    max-width:420px;
}

h1{
    color:#a3004c;
    text-shadow:0 0 15px #ff99cc,0 0 30px #ff4d88;
    font-size:clamp(22px,5vw,32px);
}

p{
    margin-top:15px;
    font-size:clamp(16px,4vw,18px);
}

/* BUTTON AREA */
.buttons{
    margin-top:40px;
    position:relative;
    height:120px;
}

button{
    width:45%;
    padding:14px;
    font-size:clamp(14px,4vw,18px);
    border:none;
    border-radius:30px;
    cursor:pointer;
}

#yes{
    background:#ff4d88;
    color:white;
    position:absolute;
    left:0;
}

#no{
    background:white;
    position:absolute;
    right:0;
}

/* SECOND CARD */
.card{
    display:none;
    position:absolute;
    top:50%;
    left:50%;
    transform:translate(-50%,-50%);
    width:90%;
    max-width:360px;
    background:#fff0f6;
    padding:20px;
    border-radius:20px;
    box-shadow:0 0 40px rgba(255,0,128,0.4);
    text-align:center;
}

.card img{
    width:100%;
    border-radius:15px;
    margin-bottom:15px;
}

.message{
    background:white;
    padding:15px;
    border-radius:15px;
    color:#7a003c;
    font-size:clamp(14px,4vw,16px);
}

/* RING POP */
.ringPop{
    position:fixed;
    top:50%;
    left:50%;
    transform:translate(-50%,-50%) scale(0);
    font-size:80px;
    animation:ringAnim 0.9s ease-out forwards;
    z-index:2000;
}

@keyframes ringAnim{
    0%{transform:translate(-50%,-50%) scale(0);opacity:0;}
    60%{transform:translate(-50%,-50%) scale(1.3);opacity:1;}
    100%{transform:translate(-50%,-50%) scale(1);opacity:1;}
}

/* SPARK */
.spark{
    position:fixed;
    pointer-events:none;
    font-size:14px;
    animation:fadeSpark 1s forwards;
}
@keyframes fadeSpark{
    0%{opacity:1;}
    100%{opacity:0;}
}

/* FALLING */
.fall{
    position:fixed;
    top:-60px;
    pointer-events:none;
    animation:fallAnim linear forwards;
}

@keyframes fallAnim{
    0%{transform:translateY(0) rotate(0deg);opacity:1;}
    100%{transform:translateY(110vh) rotate(360deg);opacity:0.9;}
}
</style>
</head>
<body>

<audio id="loveSong" loop>
<source src="song.mp3" type="audio/mpeg">
</audio>

<div class="container" id="question">
<h1>ğ“¦ğ“²ğ“µğ“µ ğ”‚ğ“¸ğ“¾ ğ“«ğ“® ğ“¶ğ”‚ ğ“¥ğ“ªğ“µğ“®ğ“·ğ“½ğ“²ğ“·ğ“®?ğŸ§¸ğŸ€</h1>
<p>ğ•”ğ•™ğ• ğ• ğ•¤ğ•– ğ•¨ğ•šğ•¤ğ•–ğ•ğ•ª ğŸ’•</p>

<div class="buttons">
<button id="yes" onclick="showCard()">Yes ğŸ¥°</button>
<button id="no">No ğŸ˜’</button>
</div>
</div>

<div class="card" id="card">
<h1>ğ”‚ğ“ªğ”‚! ğŸ¥³</h1>
<img src="images/proposal.png">
<div class="message">
<p id="typingText"></p>
</div>
</div>

<script>

/* SAFE NO BUTTON */
const noBtn=document.getElementById("no");
const btnContainer=document.querySelector(".buttons");

noBtn.addEventListener("mouseover",moveNo);
noBtn.addEventListener("click",moveNo);

function moveNo(){
    const maxX=btnContainer.offsetWidth-noBtn.offsetWidth;
    const maxY=btnContainer.offsetHeight-noBtn.offsetHeight;
    noBtn.style.left=Math.random()*maxX+"px";
    noBtn.style.top=Math.random()*maxY+"px";
}

/* SHOW CARD WITH RING */
function showCard(){

    const ring=document.createElement("div");
    ring.className="ringPop";
    ring.innerHTML="ğŸ’";
    document.body.appendChild(ring);

    setTimeout(()=>{
        ring.remove();
        document.getElementById("question").style.display="none";
        document.getElementById("card").style.display="block";

        const audio=document.getElementById("loveSong");
        audio.volume=0;
        audio.play();

        let v=0;
        const fade=setInterval(()=>{
            if(v<1){v+=0.05;audio.volume=v;}
            else clearInterval(fade);
        },150);

        typeMessage();
        startFalling();
    },900);
}

/* TYPING */
function typeMessage(){
    const text="ğ™„ ğ™ ğ™£ğ™šğ™¬ ğ™®ğ™¤ğ™ª'ğ™™ ğ™¨ğ™–ğ™® ğ™®ğ™šğ™¨ ğŸ’•\nğ™”ğ™¤ğ™ª ğ™¢ğ™–ğ™™ğ™š ğ™¢ğ™® ğ™¬ğ™¤ğ™§ğ™¡ğ™™ ğ™—ğ™šğ™–ğ™ªğ™©ğ™ğ™›ğ™ªğ™¡ ğŸ’–\nğ™ğ™¤ğ™§ğ™šğ™«ğ™šğ™§ ğ™¨ğ™©ğ™–ğ™§ğ™©ğ™¨ ğ™£ğ™¤ğ™¬ ğŸ’";
    const el=document.getElementById("typingText");
    el.innerHTML="";
    let i=0;
    function type(){
        if(i<text.length){
            if(text[i]=="\n") el.innerHTML+="<br>";
            else el.innerHTML+=text[i];
            i++;
            setTimeout(type,35);
        }
    }
    type();
}

/* SPARK TRAIL */
document.addEventListener("mousemove",(e)=>{
    const s=document.createElement("div");
    s.className="spark";
    s.innerHTML="âœ¨";
    s.style.left=e.clientX+"px";
    s.style.top=e.clientY+"px";
    document.body.appendChild(s);
    setTimeout(()=>s.remove(),800);
});

/* HEARTS + PETAL.PNG */
function startFalling(){
    setInterval(()=>{
        const element=document.createElement("div");
        element.className="fall";

        if(Math.random()>0.5){
            const hearts=["â¤ï¸","ğŸ’™","ğŸ’œ","ğŸ§¡","ğŸ’›","ğŸ’–"];
            element.innerHTML=hearts[Math.floor(Math.random()*hearts.length)];
            element.style.fontSize=(18+Math.random()*25)+"px";
        }else{
            const img=document.createElement("img");
            img.src="images/petal.png";
            img.style.width=(20+Math.random()*25)+"px";
            element.appendChild(img);
        }

        element.style.left=Math.random()*100+"vw";
        element.style.animationDuration=(4+Math.random()*3)+"s";

        document.body.appendChild(element);
        setTimeout(()=>element.remove(),7000);
    },300);
}

</script>
</body>
</html>
