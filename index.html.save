!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Valentine ðŸ’–</title>

<style>
html,body{
  margin:0;
  padding:0;
  height:100%;
  overflow:hidden;
  font-family: sans-serif;
  background:linear-gradient(#ffe6f0,#fff5fa);
}

/* FALL ITEMS */
.item{
  position:fixed;
  top:-40px;
  pointer-events:none;
  animation:fall linear infinite;
  z-index: 1;
}
@keyframes fall{
  to{ transform:translateY(110vh) rotate(360deg); }
}

/* FRONT */
#question{
  position:absolute;
  inset:0;
  display:flex;
  flex-direction:column;
  justify-content:center;
  align-items:center;
  text-align:center;
  z-index: 10;
}
.btns{
  position:relative;
  display:flex;
  gap:40px;
  margin-top: 20px;
}
button{
  padding:15px 30px;
  font-size:18px;
  border:none;
  border-radius:30px;
  cursor: pointer;
}
#yes{
  background:#ff4d88;
  color:white;
}
#no{
  background: #ccc;
  color: #333;
  position: fixed;
}

/* SECOND */
#card{
  display:none;
  position:absolute;
  inset:0;
  justify-content:center;
  align-items:center;
  z-index: 20;
}
.card-inner{
  background:white;
  padding:30px;
  border-radius:20px;
  width:90%;
  max-width:350px;
  text-align:center;
  box-shadow: 0 10px 20px rgba(0,0,0,0.1);
}
.card-inner img{
    width:100%;
    border-radius:15px;
    height: auto;
}
</style>
</head>

<body>

<audio id="song" src="song.mp3" loop></audio>

<div id="question">
  <h2>ðŸ’– Will you be my Valentine? ðŸ’–</h2>
  <div class="btns">
    <button id="yes">Yes ðŸ’˜</button>
    <button id="no">No ðŸ˜’</button>
  </div>
</div>

<div id="card">
  <div class="card-inner">
    <h2>ðŸ’ž Yay! ðŸ’ž</h2>
    <img src="images/proposal.png" alt="Happy Proposal">
    <p>Forever starts now ðŸŒ¹</p>
  </div>
</div>

<script>
const yes = document.getElementById("yes");
const no = document.getElementById("no");
const q = document.getElementById("question");
const c = document.getElementById("card");
const song = document.getElementById("song");

function moveNoButton() {
    const screenWidth = window.innerWidth;
    const screenHeight = window.innerHeight;
    
    const btnWidth = no.offsetWidth;
    const btnHeight = no.offsetHeight;
    
    let newX = Math.random() * (screenWidth - btnWidth);
    let newY = Math.random() * (screenHeight - btnHeight);
    
    newX = Math.max(0, Math.min(newX, screenWidth - btnWidth));
    newY = Math.max(0, Math.min(newY, screenHeight - btnHeight));
    
    no.style.left = newX + "px";
    no.style.top = newY + "px";
}

no.addEventListener("mouseover", moveNoButton);
no.addEventListener("click", moveNoButton);
no.addEventListener("touchstart", moveNoButton);

yes.onclick = () => {
  q.style.display = "none";
  c.style.display = "flex";
  
  if(navigator.vibrate) navigator.vibrate(200);
  
  song.play().catch(error => {
      console.log("Audio play failed:", error);
  });
};

function createFallItem() {
  let e = document.createElement("div");
  e.className = "item";
  e.style.left = Math.random() * 100 + "vw";
  e.style.animationDuration = Math.random() * 3 + 4 + "s";
  
  const items = ["â¤ï¸", "ðŸ’–", "ðŸŒ¸", "ðŸŒ¹"];
  e.innerHTML = items[Math.floor(Math.random() * items.length)];
  e.style.fontSize = Math.random() * 10 + 15 + "px";
  
  document.body.appendChild(e);
  
  setTimeout(() => e.remove(), 8000);
}

setInterval(createFallItem, 300);

</script>
</body>
</html>
